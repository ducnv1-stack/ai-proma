<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FARAMEX Chat Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .demo-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .demo-header {
            text-align: center;
            margin-bottom: 30px;
        }
        .demo-header h1 {
            color: #667eea;
            margin-bottom: 10px;
        }
        .demo-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }
        .demo-section h3 {
            color: #374151;
            margin-bottom: 15px;
        }
        .demo-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: transform 0.2s;
        }
        .demo-button:hover {
            transform: translateY(-2px);
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .status.success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }
        .status.error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fca5a5;
        }
        .status.info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }
        pre {
            background: #f8fafc;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            font-size: 14px;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        .feature-list li:before {
            content: "‚úì ";
            color: #10b981;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>ü§ñ FARAMEX AI Chat Interface</h1>
            <p>Giao di·ªán chat t√≠ch h·ª£p v·ªõi FARAMEX Multi-Agent System</p>
        </div>

        <div class="demo-section">
            <h3>üöÄ Kh·ªüi ch·∫°y Chat Interface</h3>
            <p>Click v√†o n√∫t b√™n d∆∞·ªõi ƒë·ªÉ m·ªü giao di·ªán chat:</p>
            <button class="demo-button" onclick="openChat()">M·ªü Chat Interface</button>
            <div id="chat-status" class="status info">
                S·∫µn s√†ng kh·ªüi ch·∫°y giao di·ªán chat
            </div>
        </div>

        <div class="demo-section">
            <h3>üîß Test API Connection</h3>
            <p>Ki·ªÉm tra k·∫øt n·ªëi v·ªõi FARAMEX API Server:</p>
            <button class="demo-button" onclick="testAPI()">Test API Connection</button>
            <button class="demo-button" onclick="testAgents()">Test Agents Endpoint</button>
            <div id="api-status" class="status info">
                Ch∆∞a test k·∫øt n·ªëi API
            </div>
            <pre id="api-response"></pre>
        </div>

        <div class="demo-section">
            <h3>üìã T√≠nh nƒÉng ch√≠nh</h3>
            <ul class="feature-list">
                <li>Giao di·ªán chat hi·ªán ƒë·∫°i v√† responsive</li>
                <li>Streaming response real-time t·ª´ AI Agent</li>
                <li>Upload v√† g·ª≠i h√¨nh ·∫£nh</li>
                <li>Authentication v√† session management</li>
                <li>Typing indicator v√† sound notifications</li>
                <li>Auto-scroll v√† message formatting</li>
                <li>Settings panel c√≥ th·ªÉ t√πy ch·ªânh</li>
                <li>Modal cho xem h√¨nh ·∫£nh full-size</li>
            </ul>
        </div>

        <div class="demo-section">
            <h3>‚öôÔ∏è C·∫•u h√¨nh v√† Kh·ªüi ch·∫°y Server</h3>
            <p><strong>B∆∞·ªõc 1:</strong> C√†i ƒë·∫∑t Python v√† dependencies:</p>
            <pre># C√†i ƒë·∫∑t Python (n·∫øu ch∆∞a c√≥)
# Download t·ª´: https://www.python.org/downloads/

# C√†i ƒë·∫∑t dependencies
pip install fastapi uvicorn sqlalchemy databases asyncpg python-multipart</pre>
            
            <p><strong>B∆∞·ªõc 2:</strong> Kh·ªüi ch·∫°y FARAMEX server:</p>
            <pre># M·ªü terminal t·∫°i th∆∞ m·ª•c ai-server-main
cd d:\CTY-Xcelbot\ai-server-main\ai-server-main

# Ch·∫°y server
python main.py

# Ho·∫∑c n·∫øu c√≥ nhi·ªÅu phi√™n b·∫£n Python
python3 main.py</pre>
            
            <p><strong>B∆∞·ªõc 3:</strong> Ki·ªÉm tra server ƒëang ch·∫°y t·∫°i:</p>
            <pre>http://localhost:8000</pre>
            
            <p>C√°c endpoint ƒë∆∞·ª£c s·ª≠ d·ª•ng:</p>
            <pre>POST /api/v1/chat           - Chat v·ªõi AI Agent
POST /api/v1/session/create  - T·∫°o session m·ªõi
GET  /api/v1/agents          - L·∫•y danh s√°ch agents</pre>
        </div>

        <div class="demo-section">
            <h3>üîê Authentication Demo</h3>
            <p>ƒê·ªÉ test, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th√¥ng tin demo:</p>
            <pre>Username: demo_user
Password: demo_password
Workspace ID: demo_workspace
Agent: facebook_marketing_agent</pre>
            <p><strong>L∆∞u √Ω:</strong> ƒê√¢y l√† demo mode, authentication th·ª±c t·∫ø c·∫ßn ƒë∆∞·ª£c c·∫•u h√¨nh v·ªõi backend.</p>
        </div>
    </div>

    <script>
        function openChat() {
            // Navigate to chat page in same tab
            window.location.href = 'index.html';
        }

        async function testAPI() {
            const statusDiv = document.getElementById('api-status');
            const responseDiv = document.getElementById('api-response');
            
            statusDiv.innerHTML = '<div class="status info">üîÑ ƒêang test k·∫øt n·ªëi API...</div>';
            
            try {
                const response = await fetch('http://localhost:8000/docs');
                if (response.ok) {
                    statusDiv.innerHTML = '<div class="status success">‚úÖ API Server ƒëang ho·∫°t ƒë·ªông!</div>';
                    responseDiv.textContent = `Status: ${response.status} ${response.statusText}\nAPI Documentation: http://localhost:8000/docs`;
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                let errorMessage = `Error: ${error.message}\n\n`;
                
                if (error.message === 'Failed to fetch') {
                    errorMessage += `üö® L·ªñI K·∫æT N·ªêI - Server ch∆∞a ch·∫°y ho·∫∑c CORS issue\n\n`;
                    errorMessage += `C√ÅCH KH·∫ÆC PH·ª§C:\n`;
                    errorMessage += `1. M·ªü Command Prompt/Terminal\n`;
                    errorMessage += `2. Chuy·ªÉn ƒë·∫øn th∆∞ m·ª•c: cd d:\\CTY-Xcelbot\\ai-server-main\\ai-server-main\n`;
                    errorMessage += `3. C√†i ƒë·∫∑t dependencies: pip install fastapi uvicorn sqlalchemy databases asyncpg\n`;
                    errorMessage += `4. Ch·∫°y server: python main.py\n`;
                    errorMessage += `5. Ki·ªÉm tra server t·∫°i: http://localhost:8000/docs\n\n`;
                    errorMessage += `N·∫øu v·∫´n l·ªói, ki·ªÉm tra:\n`;
                    errorMessage += `- Python ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t ch∆∞a?\n`;
                    errorMessage += `- Port 8000 c√≥ b·ªã chi·∫øm kh√¥ng?\n`;
                    errorMessage += `- Firewall c√≥ block kh√¥ng?`;
                } else {
                    errorMessage += `Vui l√≤ng ƒë·∫£m b·∫£o:\n1. FARAMEX server ƒëang ch·∫°y\n2. Server ch·∫°y t·∫°i http://localhost:8000\n3. CORS ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh ƒë√∫ng`;
                }
                
                statusDiv.innerHTML = '<div class="status error">‚ùå Kh√¥ng th·ªÉ k·∫øt n·ªëi v·ªõi API Server</div>';
                responseDiv.textContent = errorMessage;
            }
        }

        async function testAgents() {
            const statusDiv = document.getElementById('api-status');
            const responseDiv = document.getElementById('api-response');
            
            statusDiv.innerHTML = '<div class="status info">üîÑ ƒêang test agents endpoint...</div>';
            
            try {
                const response = await fetch('http://localhost:8000/api/v1/agents');
                if (response.ok) {
                    const data = await response.json();
                    statusDiv.innerHTML = '<div class="status success">‚úÖ Agents endpoint ho·∫°t ƒë·ªông!</div>';
                    responseDiv.textContent = JSON.stringify(data, null, 2);
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                statusDiv.innerHTML = '<div class="status error">‚ùå L·ªói khi test agents endpoint</div>';
                responseDiv.textContent = `Error: ${error.message}`;
            }
        }

        // Auto-test API on page load
        window.addEventListener('load', () => {
            setTimeout(testAPI, 1000);
        });
    </script>
</body>
</html>
